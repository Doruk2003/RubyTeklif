<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Ruby Teklif App" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Ruby Teklif App">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <div class="w-full px-4 py-3">
      <% active_link_class = "nav-link nav-link-active" %>
      <% default_link_class = "nav-link" %>
      <nav class="rounded-2xl border border-slate-200 bg-white/80 backdrop-blur px-4 py-3 shadow-sm">
        <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <div class="flex items-center gap-3">
            <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 text-white text-sm font-semibold">RT</div>
            <div>
              <div class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">RubyTeklif</div>
              <div class="text-sm font-semibold text-slate-900">ERP Kontrol Paneli</div>
            </div>
          </div>

          <div class="flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center">
            <%= link_to "Dashboard", home_path, class: (current_page?(home_path) ? active_link_class : default_link_class) %>
            <%= link_to "Musteriler", companies_path, class: (current_page?(companies_path) ? active_link_class : default_link_class) %>
            <%= link_to "Urunler", products_path, class: (current_page?(products_path) ? active_link_class : default_link_class) %>
            <%= link_to "Teklifler", offers_path, class: (current_page?(offers_path) ? active_link_class : default_link_class) %>
            <%= link_to "Kurlar", currencies_path, class: (current_page?(currencies_path) ? active_link_class : default_link_class) %>
          </div>

          <div class="flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center">
            <div class="flex w-full items-center gap-3 rounded-xl border border-slate-200 bg-white/70 px-3 py-2 text-sm shadow-sm sm:w-auto">
              <div class="flex h-9 w-9 items-center justify-center rounded-lg bg-slate-900 text-xs font-semibold text-white">DU</div>
              <div class="leading-tight">
                <div class="font-semibold text-slate-900">Demo Kullanici</div>
                <div class="text-xs text-slate-500">Yetki: Yonetici</div>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <main class="min-h-screen">
      <%= yield %>
    </main>
  </body>
</html>

