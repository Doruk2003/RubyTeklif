<%= form_with url: form_url, scope: :category, method: form_method, local: true, class: "row g-2" do |f| %>
  <%= hidden_field_tag :return_to, params[:return_to].to_s %>

  <% existing_code = category[:code] || category["code"] %>
  <% existing_active = category.key?(:active) ? category[:active] : category["active"] %>
  <% if existing_code.present? %>
    <%= f.hidden_field :code, value: existing_code %>
  <% end %>
  <% unless existing_active.nil? %>
    <%= f.hidden_field :active, value: (existing_active ? "1" : "0") %>
  <% end %>

  <div class="col-12">
    <%= f.label :name, "Kategori Adı", class: "form-label text-uppercase small fw-semibold text-secondary mb-1" %>
    <%= f.text_field :name, value: category[:name] || category["name"], placeholder: "Örn: Mobilya Aksesuar", class: "form-input" %>
    <p class="small text-secondary mt-2 mb-0">Kategori kodu otomatik oluşturulur.</p>
  </div>

  <div class="col-12">
    <%= f.submit submit_label, class: "btn-primary w-100", data: { turbo_confirm: "Kategori kaydı kaydedilsin mi?" } %>
  </div>
<% end %>

