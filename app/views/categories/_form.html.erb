<%= form_with url: form_url, scope: :category, method: form_method, local: true, class: "grid grid-cols-1 gap-5 md:grid-cols-2" do |f| %>
  <%= hidden_field_tag :return_to, params[:return_to].to_s %>

  <% existing_code = category[:code] || category["code"] %>
  <% existing_active = category.key?(:active) ? category[:active] : category["active"] %>
  <% if existing_code.present? %>
    <%= f.hidden_field :code, value: existing_code %>
  <% end %>
  <% unless existing_active.nil? %>
    <%= f.hidden_field :active, value: (existing_active ? "1" : "0") %>
  <% end %>

  <div class="md:col-span-2">
    <%= f.label :name, "Kategori Adı", class: "block text-xs font-semibold uppercase tracking-wide text-slate-800/70" %>
    <%= f.text_field :name, value: category[:name] || category["name"], placeholder: "Örn: Mobilya Aksesuar", class: "form-input" %>
    <p class="mt-2 text-xs text-slate-500">Kategori kodu otomatik oluşturulur.</p>
  </div>

  <div class="md:col-span-2">
    <%= f.submit submit_label, class: "btn-primary w-full", data: { turbo_confirm: "Kategori kaydı kaydedilsin mi?" } %>
  </div>
<% end %>
