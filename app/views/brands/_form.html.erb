<%= form_with url: form_url, scope: :brand, method: form_method, local: true, class: "row g-2" do |f| %>
  <%= hidden_field_tag :return_to, params[:return_to].to_s %>

  <% existing_code = brand[:code] || brand["code"] %>
  <% existing_active = brand.key?(:active) ? brand[:active] : brand["active"] %>
  <% if existing_code.present? %>
    <%= f.hidden_field :code, value: existing_code %>
  <% end %>
  <% unless existing_active.nil? %>
    <%= f.hidden_field :active, value: (existing_active ? "1" : "0") %>
  <% end %>

  <div class="col-12">
    <%= f.label :name, "Marka Adı", class: "form-label text-uppercase small fw-semibold text-secondary mb-1" %>
    <%= f.text_field :name, value: brand[:name] || brand["name"], placeholder: "Örn: Acme", class: "form-input" %>
    <p class="small text-secondary mt-2 mb-0">Marka kodu otomatik oluşturulur.</p>
  </div>

  <div class="col-12">
    <%= f.submit submit_label, class: "btn-primary w-100", data: { turbo_confirm: "Marka kaydı kaydedilsin mi?" } %>
  </div>
<% end %>

